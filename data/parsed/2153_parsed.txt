genome_analysis hal a hierarchical format for storing and analyzing multiple_genome motivation large multiple_genome and inferred ancestral_genomes are ideal resources for comparative_studies of molecular_evolution and advances in sequencing and computing technology are making them increasingly obtainable these structures can provide a rich understanding of the genetic_relationships between all subsets of species they contain current formats for storing genomic alignments such as xmfa and maf are all indexed or ordered using a single reference_genome however which limits the information that can be queried with respect to other species and clades this loss of information grows with the number of species under comparison as well as their phylogenetic distance results we present hal a compressed graph_based hierarchical alignment format for storing multiple_genome and ancestral reconstructions hal graphs are indexed on all genomes they contain furthermore they are organized phylogenetically which allows for modular and parallel access to arbitrary subclades without fragmentation because of rearrangements that have occurred in other lin eages hal graphs can be created or read with a comprehensive c api a set of tools is also provided to perform basic operations such as importing and exporting data identifying mutations and coordinate mapping liftover availability all documentation and source_code for the hal api and tools are freely_available ata dna or protein sequence_alignment groups together positions in the sequences they contain that are homologous related by descent positions within the same sequence can be homologous via duplication_events the multiple_alignment problem is np_hard but tools have been developed to produce large tens_of of sequences accurate alignments provided the input_sequences are relatively short and conserved such as gene exons whole_genome alignment is much more difficult not only because of the increased length of the input but also because of the presence of large spans of non conserved_sequence changes because of large_scale rearrangement events such as inversions segmental_duplications and transpositions must also be taken into account in addition to point_mutations and small insertions_and indels these challenges of creating whole_genome alignments carry over to their representation and analysis gapped matrices that are traditionally used for gene alignments become fragmented into blocks by rearrangements or excessive divergence these blocks are stored by current formats as ascii lines containing coordinates and dna strings for each sequence in the alignment as blocks can only be ordered with respect to a single reference row performing disk based queries using non reference coordinates is extremely inefficient because of fragmentation even if external indexes were to be constructed for them the hierarchical alignment hal graph_structure and tool set described later in the text were designed to address_this while adding support for file compression 
